<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>SPXVisuals</title>
<style>
  /* ---------------- Base Styles ---------------- */
  body {
    font-family: system-ui, sans-serif;
    background: #0f172a;
    color: #e5e7eb;
    margin: 0;
    padding: 0;
  }
  a { color: inherit; text-decoration: none; }
  h1 {
    margin: 0;
    font-size: 2rem;
  }
  img {
    max-width: 100%;
    border-radius: 8px;
    margin: 12px 0;
    background: #111827;
  }
  .container {
    max-width: 1200px;
    margin: auto;
    padding: 24px;
  }

  /* ---------------- Sticky Header ---------------- */
  .sticky-header {
    position: sticky;
    top: 0;
    background: #1e40af; /* Blue sticky bar */
    color: #fff;
    padding: 12px 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    z-index: 100;
  }
  .sticky-header span {
    font-size: 1.5rem;
  }

  /* ---------------- Search & Filters ---------------- */
  .controls {
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
    margin: 16px 0;
    align-items: center;
  }
  input[type="text"] {
    flex: 1;
    padding: 8px;
    border-radius: 4px;
    border: none;
  }
  button {
    padding: 8px 12px;
    border-radius: 4px;
    border: none;
    background: #2563eb;
    color: #fff;
    cursor: pointer;
  }

  /* ---------------- Masonry Grid ---------------- */
  .grid {
    column-count: 2;
    column-gap: 16px;
  }
  .post {
    background: #111827;
    margin-bottom: 16px;
    padding: 12px;
    border-radius: 8px;
    display: inline-block;
    width: 100%;
    break-inside: avoid;
  }
  .post h2 {
    margin: 0 0 8px 0;
    font-size: 1.2rem;
  }
  .post .hashtags {
    font-size: 0.85rem;
    color: #9ca3af;
    margin-top: 4px;
  }
  .post a.twitter-link {
    display: inline-block;
    margin-top: 8px;
    color: #1da1f2;
    font-size: 1.2rem;
  }

  /* ---------------- Pinned Today ---------------- */
  .pinned {
    border: 2px solid #2563eb;
  }

  /* ---------------- Responsive ---------------- */
  @media(max-width: 768px) {
    .grid { column-count: 1; }
  }

  /* ---------------- Footer ---------------- */
  footer {
    text-align: center;
    padding: 16px;
    font-size: 0.85rem;
    color: #9ca3af;
  }
</style>
</head>
<body>

<!-- Sticky Header -->
<div class="sticky-header">
  <span>ðŸ“Š</span>
  <h1>SPXVisuals</h1>
  <span>ðŸ“ˆ</span>
</div>

<div class="container">

  <!-- Search & Filters -->
  <div class="controls">
    <input type="text" id="searchInput" placeholder="Search by keyword or date (MM/DD/YYYY)">
    <button id="toggleLatest">Latest Only</button>
    <button id="toggleWeek">This Week</button>
    <button id="toggleMonth">This Month</button>
  </div>

  <!-- Pinned Today's Charts -->
  <section>
    <h2>Today's Charts</h2>
    <div class="grid" id="todayGrid">
      <div class="post pinned">
        <h2>Sample Chart 1</h2>
        <img data-src="chart_placeholder_1.png" alt="Chart 1" loading="lazy">
        <div class="hashtags">#SPXVisuals #SP500 #AAPL</div>
        <a class="twitter-link" href="#" target="_blank">X</a>
      </div>
      <div class="post pinned">
        <h2>Sample Chart 2</h2>
        <img data-src="chart_placeholder_2.png" alt="Chart 2" loading="lazy">
        <div class="hashtags">#SPXVisuals #SP500 #MSFT</div>
        <a class="twitter-link" href="#" target="_blank">X</a>
      </div>
    </div>
  </section>

  <!-- All Posts -->
  <section>
    <div class="grid" id="postsGrid">
      <!-- Posts will be populated dynamically via JS -->
    </div>
  </section>

</div>

<footer>&copy; 2026 SPXVisuals</footer>

<script>
  // ---------------- Lazy Load Images ----------------
  document.addEventListener("DOMContentLoaded", () => {
    const imgs = document.querySelectorAll('img[data-src]');
    imgs.forEach(img => {
      img.src = img.dataset.src;
    });
  });

  // ---------------- Sample Posts Data ----------------
  const posts = [
    {title:"Chart AAPL MA", hashtags:"#SPXVisuals #AAPL #SMA", twitter:"https://x.com/123", date:"01/08/2026", img:"chart_placeholder_1.png"},
    {title:"Chart MSFT Normalized", hashtags:"#SPXVisuals #MSFT #PriceChart", twitter:"https://x.com/124", date:"01/07/2026", img:"chart_placeholder_2.png"},
    {title:"Chart GOOGL MarketCap", hashtags:"#SPXVisuals #GOOGL #MarketCap", twitter:"https://x.com/125", date:"01/06/2026", img:"chart_placeholder_1.png"}
  ];

  const postsGrid = document.getElementById("postsGrid");
  const searchInput = document.getElementById("searchInput");
  const toggleLatestBtn = document.getElementById("toggleLatest");
  const toggleWeekBtn = document.getElementById("toggleWeek");
  const toggleMonthBtn = document.getElementById("toggleMonth");

  function renderPosts(filteredPosts) {
    postsGrid.innerHTML = "";
    filteredPosts.forEach(post => {
      const div = document.createElement("div");
      div.className = "post";
      div.innerHTML = `
        <h2>${post.title}</h2>
        <img data-src="${post.img}" alt="${post.title}" loading="lazy">
        <div class="hashtags">${post.hashtags}</div>
        <a class="twitter-link" href="${post.twitter}" target="_blank">X</a>
      `;
      postsGrid.appendChild(div);
    });

    // Lazy load new images
    const imgs = postsGrid.querySelectorAll('img[data-src]');
    imgs.forEach(img => { img.src = img.dataset.src; });
  }

  renderPosts(posts);

  // ---------------- Search ----------------
  searchInput.addEventListener("input", () => {
    const term = searchInput.value.toLowerCase();
    const filtered = posts.filter(p => p.title.toLowerCase().includes(term) || p.hashtags.toLowerCase().includes(term) || p.date.includes(term));
    renderPosts(filtered);
  });

  // ---------------- Toggle Latest Only ----------------
  let latestOnly = false;
  toggleLatestBtn.addEventListener("click", () => {
    latestOnly = !latestOnly;
    toggleLatestBtn.textContent = latestOnly ? "All Posts" : "Latest Only";
    renderPosts(latestOnly ? [posts[0]] : posts);
  });

  // ---------------- Toggle Week ----------------
  let weekToggled = false;
  toggleWeekBtn.addEventListener("click", () => {
    weekToggled = !weekToggled;
    toggleWeekBtn.textContent = weekToggled ? "All Weeks" : "This Week";
    // For demo, filter last 7 days
    const filtered = weekToggled ? posts : posts.slice(0,7);
    renderPosts(filtered);
  });

  // ---------------- Toggle Month ----------------
  let monthToggled = false;
  toggleMonthBtn.addEventListener("click", () => {
    monthToggled = !monthToggled;
    toggleMonthBtn.textContent = monthToggled ? "All Months" : "This Month";
    // For demo, filter last 30 days
    const filtered = monthToggled ? posts : posts.slice(0,30);
    renderPosts(filtered);
  });
</script>

</body>
</html>
